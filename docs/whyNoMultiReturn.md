# 为什么不支持多返回值

这个事情得要和golang泛型为什么那么丑（非要用中括号）一起说。  

虽然在我写这篇文档的时候，golang还没正式支持泛型，但是基本上已经能确定了golang的泛型使用中括号。  

当时很多人不理解（包括我），因为大部分语言的泛型都是尖括号，这样看起来更舒服一些，中括号容易和indexer搞混。  

我在写calc编译器的时候意识到了golang不得不用方括号的原因：尖括号泛型与多返回值功能冲突。  

假设golang支持尖括号泛型，那么考虑下方代码：  


```golang
a, b := sth<c, d>(2 + 3)
```

请问，在进行语法分析（生成ast）的时候，我们应该把它当成：  
- `a := sth<c`, `n := d>(2 + 3)`

还是：
- `sth`是个泛型双返回值函数，它的返回结果给`a`，`b`赋值

学过编译原理的一些小伙伴们看到这就应该明白了，这样设计会造成文法的二义性。而把泛型改成方括号就能避免这个问题。我认为这是golang用方括号泛型的根本原因。  

所以，为什么`calc`不支持多返回值？因为我们支持尖括号泛型，所以只能放弃多返回值了（肯定不是因为想偷懒>_<）

